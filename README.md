# Задача: Обработка HTTP-запросов и файлов с использованием Java

Этот проект предназначен для выполнения задачи, связанной с получением данных с удаленного сервера, их обработкой и
отправкой обратно на сервер с использованием HTTP-запросов. Весь процесс должен быть реализован на языке Java 17 или
выше, с учетом лучших практик разработки, чтобы код можно было использовать в продакшн среде.

## Установка и запуск

Прежде чем запустить проект, убедитесь, что у вас установлен Java 17 и Gradle.

Склонируйте репозиторий с проектом:

```shell
git clone <URL-репозитория>
```

Перейдите в каталог проекта:

```shell
cd <название-каталога-проекта>
```

Соберите проект с помощью Gradle:</br>
*Если у вас не установлен Gradle, вы можете использовать среду разработки IntelliJ IDEA для развёртывания и сборки проекта.*

```shell
gradle build
```

Запустите JAR-файл, передав параметры конфигурации через аргументы командной строки:

```shell
java -jar build/libs/test_bobday-1.0-all.jar --link <адрес-сервера> --lass <логин> --login <пароль>
```

## Параметры командной строки

- --link: Адрес сервера, по которому будет выполнен запрос (http/https url).
- --login: Логин для базовой аутентификации (basic auth).
- --pass: Пароль для базовой аутентификации (basic auth).

## Как работает проект

Проект выполняет следующие шаги:

Сначала выполняется HTTP GET-запрос на сервер с использованием переданных параметров. Полученные данные имеют исходный
формат JSON:</br>
**Исходные данные (GET-запрос):**

```json
{
  "employees": [
    { "name": "John", "age": 30, "department": { "id": 123, "department_name": "Development" } },
    { "name": "Bob", "age": 41, "department": { "id": 123, "department_name": "Development" } },
    { "name": "Ivan", "age": 18, "department": { "id": 22, "department_name": "HR" } }
  ]
}

```


Полученные данные обрабатываются, и на их основе создается новая структура данных в виде JSON-объекта, как указано в
задаче. Это преобразование данных в новый формат:

**Преобразованные данные:**
```json
{
  "22": {
    "department_name": "HR", 
    "employees": [
      {"name": "Ivan", "age": 18}
    ]
  },
  "123": {
    "department_name": "Development", 
    "employees": [
      {"name": "John", "age": 30}, 
      {"name": "Bob", "age": 41}
    ]
  }
}
```
Полученный JSON-объект отправляется обратно на сервер с использованием HTTP POST-запроса.

Полученный JSON-объект сохраняется локально в файл с названием, основанным на текущем времени. Файл сохраняется в папке **./result** относительно папки запуска проекта.

## Пример использования
Пример запуска проекта с использованием аргументов командной строки:

```shell
java -jar build/libs/test_bobday-1.0-all.jar --link https://python.test.bobdaytech.ru/api/v1/simple-answer --login test --pass test
```

## Зависимости
Java 17 (и выше): Убедитесь, что у вас установлена версия Java не ниже 17.</br>
Gradle: Для сборки проекта используется система сборки Gradle.</br>
В проекте используется библиотека 'com.fasterxml.jackson.core:jackson-databind:2.13.0' для работы с JSON-данными.
## Лицензия
Этот проект распространяется под лицензией MIT License.

## Автор
NikitaVoV
- [Telegram @nikitaVoV](https://t.me/nikitaVoV)
